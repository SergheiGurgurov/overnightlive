var Oe=Object.defineProperty;var Ne=(e,t,n)=>t in e?Oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var G=(e,t,n)=>(Ne(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function $(){}const de=e=>e;function he(e){return e()}function se(){return Object.create(null)}function A(e){e.forEach(he)}function T(e){return typeof e=="function"}function Y(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let D;function oe(e,t){return e===t?!0:(D||(D=document.createElement("a")),D.href=t,e===D.href)}function Re(e){return Object.keys(e).length===0}function qe(e,...t){if(e==null){for(const o of t)o(void 0);return $}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Ae(e,t,n){e.$$.on_destroy.push(qe(t,n))}const pe=typeof window<"u";let ge=pe?()=>window.performance.now():()=>Date.now(),Z=pe?e=>requestAnimationFrame(e):$;const R=new Set;function _e(e){R.forEach(t=>{t.c(e)||(R.delete(t),t.f())}),R.size!==0&&Z(_e)}function me(e){let t;return R.size===0&&Z(_e),{promise:new Promise(n=>{R.add(t={c:e,f:n})}),abort(){R.delete(t)}}}function k(e,t){e.appendChild(t)}function ye(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Fe(e){const t=E("style");return t.textContent="/* empty */",Le(ye(e),t),t.sheet}function Le(e,t){return k(e.head||e,t),t.sheet}function ee(e,t,n){e.insertBefore(t,n||null)}function B(e){e.parentNode&&e.parentNode.removeChild(e)}function E(e){return document.createElement(e)}function $e(e){return document.createTextNode(e)}function we(){return $e(" ")}function S(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Pe(e){return Array.from(e.childNodes)}function je(e,t){t=""+t,e.data!==t&&(e.data=t)}function Be(e,t,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:o})}const W=new Map;let I=0;function ze(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function De(e,t){const n={stylesheet:Fe(t),rules:{}};return W.set(e,n),n}function be(e,t,n,o,s,r,a,c=0){const l=16.666/o;let i=`{
`;for(let _=0;_<=1;_+=l){const p=t+(n-t)*r(_);i+=_*100+`%{${a(p,1-p)}}
`}const f=i+`100% {${a(n,1-n)}}
}`,u=`__svelte_${ze(f)}_${c}`,h=ye(e),{stylesheet:d,rules:g}=W.get(h)||De(h,e);g[u]||(g[u]=!0,d.insertRule(`@keyframes ${u} ${f}`,d.cssRules.length));const y=e.style.animation||"";return e.style.animation=`${y?`${y}, `:""}${u} ${o}ms linear ${s}ms 1 both`,I+=1,u}function Q(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?r=>r.indexOf(t)<0:r=>r.indexOf("__svelte")===-1),s=n.length-o.length;s&&(e.style.animation=o.join(", "),I-=s,I||Ue())}function Ue(){Z(()=>{I||(W.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&B(t)}),W.clear())})}function We(e,t,n,o){if(!t)return $;const s=e.getBoundingClientRect();if(t.left===s.left&&t.right===s.right&&t.top===s.top&&t.bottom===s.bottom)return $;const{delay:r=0,duration:a=300,easing:c=de,start:l=ge()+r,end:i=l+a,tick:f=$,css:u}=n(e,{from:t,to:s},o);let h=!0,d=!1,g;function y(){u&&(g=be(e,0,1,a,r,c,u)),r||(d=!0)}function _(){u&&Q(e,g),h=!1}return me(p=>{if(!d&&p>=l&&(d=!0),d&&p>=i&&(f(1,0),_()),!h)return!1;if(d){const v=p-l,x=0+1*c(v/a);f(x,1-x)}return!0}),y(),f(0,1),_}function Ie(e){const t=getComputedStyle(e);if(t.position!=="absolute"&&t.position!=="fixed"){const{width:n,height:o}=t,s=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=o,Te(e,s)}}function Te(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const o=getComputedStyle(e),s=o.transform==="none"?"":o.transform;e.style.transform=`${s} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}let te;function P(e){te=e}const N=[],ie=[];let q=[];const ce=[],Je=Promise.resolve();let X=!1;function Ke(){X||(X=!0,Je.then(ve))}function j(e){q.push(e)}const H=new Set;let M=0;function ve(){if(M!==0)return;const e=te;do{try{for(;M<N.length;){const t=N[M];M++,P(t),Ve(t.$$)}}catch(t){throw N.length=0,M=0,t}for(P(null),N.length=0,M=0;ie.length;)ie.pop()();for(let t=0;t<q.length;t+=1){const n=q[t];H.has(n)||(H.add(n),n())}q.length=0}while(N.length);for(;ce.length;)ce.pop()();X=!1,H.clear(),P(e)}function Ve(e){if(e.fragment!==null){e.update(),A(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}function Ge(e){const t=[],n=[];q.forEach(o=>e.indexOf(o)===-1?t.push(o):n.push(o)),n.forEach(o=>o()),q=t}let L;function He(){return L||(L=Promise.resolve(),L.then(()=>{L=null})),L}function le(e,t,n){e.dispatchEvent(Be(`${t?"intro":"outro"}${n}`))}const U=new Set;let C;function Qe(){C={r:0,c:[],p:C}}function Xe(){C.r||A(C.c),C=C.p}function J(e,t){e&&e.i&&(U.delete(e),e.i(t))}function ne(e,t,n,o){if(e&&e.o){if(U.has(e))return;U.add(e),C.c.push(()=>{U.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}else o&&o()}const Ye={duration:0};function Ze(e,t,n){const o={direction:"in"};let s=t(e,n,o),r=!1,a,c,l=0;function i(){a&&Q(e,a)}function f(){const{delay:h=0,duration:d=300,easing:g=de,tick:y=$,css:_}=s||Ye;_&&(a=be(e,0,1,d,h,g,_,l++)),y(0,1);const p=ge()+h,v=p+d;c&&c.abort(),r=!0,j(()=>le(e,!0,"start")),c=me(x=>{if(r){if(x>=v)return y(1,0),le(e,!0,"end"),i(),r=!1;if(x>=p){const F=g((x-p)/d);y(F,1-F)}}return r})}let u=!1;return{start(){u||(u=!0,Q(e),T(s)?(s=s(o),He().then(f)):f())},invalidate(){u=!1},end(){r&&(i(),r=!1)}}}function ae(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function et(e,t){ne(e,1,1,()=>{t.delete(e.key)})}function tt(e,t){e.f(),et(e,t)}function nt(e,t,n,o,s,r,a,c,l,i,f,u){let h=e.length,d=r.length,g=h;const y={};for(;g--;)y[e[g].key]=g;const _=[],p=new Map,v=new Map,x=[];for(g=d;g--;){const m=u(s,r,g),w=n(m);let b=a.get(w);b?o&&x.push(()=>b.p(m,t)):(b=i(w,m),b.c()),p.set(w,_[g]=b),w in y&&v.set(w,Math.abs(g-y[w]))}const F=new Set,re=new Set;function V(m){J(m,1),m.m(c,f),a.set(m.key,m),f=m.first,d--}for(;h&&d;){const m=_[d-1],w=e[h-1],b=m.key,z=w.key;m===w?(f=m.first,h--,d--):p.has(z)?!a.has(b)||F.has(b)?V(m):re.has(z)?h--:v.get(b)>v.get(z)?(re.add(b),V(m)):(F.add(z),h--):(l(w,a),h--)}for(;h--;){const m=e[h];p.has(m.key)||l(m,a)}for(;d;)V(_[d-1]);return A(x),_}function rt(e){e&&e.c()}function xe(e,t,n){const{fragment:o,after_update:s}=e.$$;o&&o.m(t,n),j(()=>{const r=e.$$.on_mount.map(he).filter(T);e.$$.on_destroy?e.$$.on_destroy.push(...r):A(r),e.$$.on_mount=[]}),s.forEach(j)}function Se(e,t){const n=e.$$;n.fragment!==null&&(Ge(n.after_update),A(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function st(e,t){e.$$.dirty[0]===-1&&(N.push(e),Ke(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ke(e,t,n,o,s,r,a=null,c=[-1]){const l=te;P(e);const i=e.$$={fragment:null,ctx:[],props:r,update:$,not_equal:s,bound:se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:se(),dirty:c,skip_bound:!1,root:t.target||l.$$.root};a&&a(i.root);let f=!1;if(i.ctx=n?n(e,t.props||{},(u,h,...d)=>{const g=d.length?d[0]:h;return i.ctx&&s(i.ctx[u],i.ctx[u]=g)&&(!i.skip_bound&&i.bound[u]&&i.bound[u](g),f&&st(e,u)),h}):[],i.update(),f=!0,A(i.before_update),i.fragment=o?o(i.ctx):!1,t.target){if(t.hydrate){const u=Pe(t.target);i.fragment&&i.fragment.l(u),u.forEach(B)}else i.fragment&&i.fragment.c();t.intro&&J(e.$$.fragment),xe(e,t.target,t.anchor),ve()}P(l)}class Ce{constructor(){G(this,"$$");G(this,"$$set")}$destroy(){Se(this,1),this.$destroy=$}$on(t,n){if(!T(n))return $;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const s=o.indexOf(n);s!==-1&&o.splice(s,1)}}$set(t){this.$$set&&!Re(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ot="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ot);function Ee(e){const t=e-1;return t*t*t+1}function it(e,{from:t,to:n},o={}){const s=getComputedStyle(e),r=s.transform==="none"?"":s.transform,[a,c]=s.transformOrigin.split(" ").map(parseFloat),l=t.left+t.width*a/n.width-(n.left+a),i=t.top+t.height*c/n.height-(n.top+c),{delay:f=0,duration:u=d=>Math.sqrt(d)*120,easing:h=Ee}=o;return{delay:f,duration:T(u)?u(Math.sqrt(l*l+i*i)):u,easing:h,css:(d,g)=>{const y=g*l,_=g*i,p=d+g*t.width/n.width,v=d+g*t.height/n.height;return`transform: ${r} translate(${y}px, ${_}px) scale(${p}, ${v});`}}}function ct(e,{delay:t=0,duration:n=400,easing:o=Ee,axis:s="y"}={}){const r=getComputedStyle(e),a=+r.opacity,c=s==="y"?"height":"width",l=parseFloat(r[c]),i=s==="y"?["top","bottom"]:["left","right"],f=i.map(p=>`${p[0].toUpperCase()}${p.slice(1)}`),u=parseFloat(r[`padding${f[0]}`]),h=parseFloat(r[`padding${f[1]}`]),d=parseFloat(r[`margin${f[0]}`]),g=parseFloat(r[`margin${f[1]}`]),y=parseFloat(r[`border${f[0]}Width`]),_=parseFloat(r[`border${f[1]}Width`]);return{delay:t,duration:n,easing:o,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*a};${c}: ${p*l}px;padding-${i[0]}: ${p*u}px;padding-${i[1]}: ${p*h}px;margin-${i[0]}: ${p*d}px;margin-${i[1]}: ${p*g}px;border-${i[0]}-width: ${p*y}px;border-${i[1]}-width: ${p*_}px;`}}function lt(e){let t,n,o,s,r,a;return{c(){t=E("div"),n=E("span"),o=$e(e[1]),s=we(),r=E("img"),S(n,"class","score svelte-12p0f35"),oe(r.src,a=e[0])||S(r,"src",a),S(r,"alt","none"),S(r,"class","svelte-12p0f35"),S(t,"class","card svelte-12p0f35")},m(c,l){ee(c,t,l),k(t,n),k(n,o),k(t,s),k(t,r)},p(c,[l]){l&2&&je(o,c[1]),l&1&&!oe(r.src,a=c[0])&&S(r,"src",a)},i:$,o:$,d(c){c&&B(t)}}}function at(e,t,n){let{image:o=""}=t,{score:s=0}=t;return e.$$set=r=>{"image"in r&&n(0,o=r.image),"score"in r&&n(1,s=r.score)},[o,s]}class ft extends Ce{constructor(t){super(),ke(this,t,at,lt,Y,{image:0,score:1})}}const O=[];function ut(e,t=$){let n;const o=new Set;function s(c){if(Y(e,c)&&(e=c,n)){const l=!O.length;for(const i of o)i[1](),O.push(i,e);if(l){for(let i=0;i<O.length;i+=2)O[i][0](O[i+1]);O.length=0}}}function r(c){s(c(e))}function a(c,l=$){const i=[c,l];return o.add(i),o.size===1&&(n=t(s,r)||$),c(e),()=>{o.delete(i),o.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:a}}const Me=ut([]);function fe(e,t,n){const o=e.slice();return o[2]=t[n],o}function ue(e,t){let n,o,s,r,a,c,l=$,i;return s=new ft({props:{image:t[2].imageUrl,score:t[2].score}}),{key:e,first:null,c(){n=E("div"),o=E("div"),rt(s.$$.fragment),a=we(),this.first=n},m(f,u){ee(f,n,u),k(n,o),xe(s,o,null),k(n,a),i=!0},p(f,u){t=f;const h={};u&1&&(h.image=t[2].imageUrl),u&1&&(h.score=t[2].score),s.$set(h)},r(){c=n.getBoundingClientRect()},f(){Ie(n),l()},a(){l(),l=We(n,c,it,{duration:t[1]})},i(f){i||(J(s.$$.fragment,f),f&&(r||j(()=>{r=Ze(o,ct,{}),r.start()})),i=!0)},o(f){ne(s.$$.fragment,f),i=!1},d(f){f&&B(n),Se(s)}}}function dt(e){let t,n=[],o=new Map,s,r=ae(e[0]);const a=c=>c[2].contestant;for(let c=0;c<r.length;c+=1){let l=fe(e,r,c),i=a(l);o.set(i,n[c]=ue(i,l))}return{c(){t=E("div");for(let c=0;c<n.length;c+=1)n[c].c();S(t,"class","cardContainer svelte-rrjxyt")},m(c,l){ee(c,t,l);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(t,null);s=!0},p(c,[l]){if(l&1){r=ae(c[0]),Qe();for(let i=0;i<n.length;i+=1)n[i].r();n=nt(n,l,a,1,c,r,o,t,tt,ue,null,fe);for(let i=0;i<n.length;i+=1)n[i].a();Xe()}},i(c){if(!s){for(let l=0;l<r.length;l+=1)J(n[l]);s=!0}},o(c){for(let l=0;l<n.length;l+=1)ne(n[l]);s=!1},d(c){c&&B(t);for(let l=0;l<n.length;l+=1)n[l].d()}}}function ht(e,t,n){let o;return Ae(e,Me,r=>n(0,o=r)),[o,r=>30*Math.sqrt(r)]}class pt extends Ce{constructor(t){super(),ke(this,t,ht,dt,Y,{})}}function gt(e,t){return typeof t=="object"&&t!==null&&t.dataType==="Map"?new Map(t.value):t}function _t(e){return JSON.parse(e,gt)}var mt=window.location.protocol=="https:"?"wss:":"ws:",K=new WebSocket(`${mt}//${window.location.host}/overnightlive`);K.addEventListener("message",function(e){const t=_t(e.data);if(t.type=="scoreboard-update"){console.log("Received Socket Message:",t);const n=t.data,o=Array.from(n.list).map(([s,r])=>r).sort((s,r)=>r.score-s.score);Me.set(o)}else t.type=="canvas-update",console.log("Received Socket Message:",t)});K.addEventListener("open",function(e){console.log("Connected to server")});K.addEventListener("close",function(e){console.log("Server connection closed: ",e.reason)});K.addEventListener("error",function(e){console.log("WebSocket error: ",e)});new pt({target:document.querySelector("body")});
